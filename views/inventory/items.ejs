<main id="main" class="main">
  <div class="pagetitle">
    <h1><%= title %></h1>
    <nav>
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">Home</a></li>
        <li class="breadcrumb-item"><a href="/inventory/">Inventory</a></li>
        <li class="breadcrumb-item active">Data List Items</li>
      </ol>
    </nav>
  </div>
  <!-- End Page Title -->

  <section class="section">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Data List Items</h5>
            <div
              style="
                display: flex;
                width: 100%;
                justify-content: end;
                margin-bottom: 12px;
              "
            >
              <a
                href="/items/add"
                class="btn btn-primary btn-md position-relative"
                >Add Product</a
              >
            </div>
            <% if (message.length !=0) { if (message[0].alert=='success' ) { %>
            <div class="alert alert-success" role="alert">
              <%= message[0].message %>
            </div>
            <% } else if (message[0].alert=='warning' ) { %>
            <div class="alert alert-warning" role="alert">
              <%= message[0].message %>
            </div>
            <% } else { %>
            <div class="alert alert-warning" role="alert">
              <%= message[0].message %>
            </div>
            <% } } %>
            <!-- TABLE -->
            <table class="table table-hover datatable">
              <thead>
                <tr>
                  <th scope="col">No</th>
                  <th scope="col">Product Id</th>
                  <th scope="col">Product Name</th>
                  <th scope="col">Category</th>
                  <th scope="col">Stock</th>
                  <th scope="col">Price</th>

                  <th scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <% products.forEach(function(product, index) { %>
                <tr>
                  <td><%= index + 1 %></td>
                  <td><%= (product.product_id || '-') %></td>
                  <td><%= (product.product_name || '-') %></td>
                  <td><%= (product.category || '-') %></td>
                  <td><%= (product.stock_quantity || '-') %></td>
                  <td><%= (product.price||'-').toLocaleString() %></td>
                  <td>
                    <a
                      href="/items/detail-products/<%= product.product_name %>"
                      class="btn btn-primary btn-md position-relative"
                      >Detail</a
                    >
                    <a
                      href="/items/update-products/<%= product.product_name %>"
                      class="btn btn-primary btn-md position-relative"
                      >Update</a
                    >
                    <a
                      href="/items/delete-products/<%= product.product_name %>"
                      class="btn btn-danger btn-md position-relative"
                      onclick="return confirm('Are you sure you want to delete <%= product.product_name %>?')"
                      >Delete</a
                    >
                  </td>
                </tr>
                <% }); %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>
<!-- End #main -->
